---
name: helm

templates: 
  bin/helm.erb: bin/helm
  
packages: 
- helm

properties:
  kubernetes.host:
    description: "The hostname (in form of URI) of Kubernetes master"
    example: "https://cfcr-api.internal.paas"

  kubernetes.username: 
    description: "The username to use for HTTP basic authentication when accessing the Kubernetes master endpoint."
    default: "kubo-cluster-admin"

  kubernetes.password:
    description: "The password to use for HTTP basic authentication when accessing the Kubernetes master endpoint."

  kubernetes.client_certificate:
    description: "PEM-encoded client certificate for TLS authentication."

  kubernetes.client_key:
    description: "PEM-encoded client certificate key for TLS authentication."


  kubernetes.cluster_ca_certificate:
    description: "PEM-encoded root certificates bundle for TLS authentication."

  service_account:
    description: "Service account to install Tiller with."
    default: "tiller"

  repositories:
    description: "array of helm repository in json format"
    example: "[\n
                   {'name': 'stable',\n
                    'url' : 'https://kubernetes-charts.storage.googleapis.com/'\n
                   },\n
                   {'name': 'incubator',\n
                    'url' : 'https://kubernetes-charts-incubator.storage.googleapis.com'\n
                   }\n
                  ]"

    default: "['stable','https://kubernetes-charts.storage.googleapis.com/']"

  charts:
    description: "array of helm chart in json format defined by his name, his chart and an array of properties"
    example: "[\n
                   {'name'      : 'mygrafana',\n
                    'chart'     : 'stable/grafana',\n
                    'properties': [\n
                                   {'name' : 'service.type',\n
                                    'value': 'ClusterIP'\n
                                   },\n
                                   {'name' : 'service.port',\n
                                    'value': '9000'\n
                                   }\n
                                 ]\n
                   },\n
                   {'name'      : 'mygrafana2',\n
                    'chart'     : 'stable/grafana',\n
                    'properties': [\n
                                   {'name' : 'service.type',\n
                                    'value': 'ClusterIP'\n
                                   },\n
                                   {'name' : 'service.port',\n
                                    'value': '9001'\n
                                   }\n
                                 ]\n
                   }\n
                 ]"
    default: "[]"
